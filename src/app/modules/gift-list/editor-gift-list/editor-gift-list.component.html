@let giftList = giftList$();

@if (!giftList) {
  <div class="loading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
} @else {
  <app-top-nav
    [r_themeColor]="giftList.highlightColor"
    [extendedBackground]="true"
    [defaltLogoTemplate]="false"
    [user]="true" />

  <div class="content">
    <div>
      <app-summary
        [r_editable]="true"
        [r_giftListData]="giftList"
        (save)="updateGiftList()" />
    </div>

    <div>
      <app-evolution-bar
        [r_totalValue]="giftList.totalValue"
        [r_valueCollected]="giftList.valueCollected"
        [r_themeColor]="giftList.highlightColor"
        [r_contributorCount]="giftList.contributorCount" />

      <div class="select-color">
        <app-select-color (selectedColor)="onSelectColor($event)"/>
      </div>

      <app-item-list
        [r_editable]="true"
        [r_listId]="giftList.id"
        [r_themeColor]="giftList.highlightColor"
        [r_items]="giftList.items"
        (itemAdded)="addItem($event)"
        (itemUpdated)="updateItem($event)" />

    </div>
  </div>


}

<app-minimalist-footer />
